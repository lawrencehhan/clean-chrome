{"ast":null,"code":"import _slicedToArray from\"/Users/lawrencehan/Documents/GitHub/clean-chrome/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/*global chrome*/import React,{useState}from'react';import ToggleButton from'./ToggleButton';import toggleData from'./toggles';import wordsData from'./wiktionaryWords';import{jsx as _jsx}from\"react/jsx-runtime\";export default function Main(){// States are kept for active censorType and content.js responseFromContent\nvar _useState=useState(chrome.storage.sync.get('storedCensorType',function(storage){return storage.storedCensorType;})),_useState2=_slicedToArray(_useState,2),censorType=_useState2[0],setCensorType=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),responseFromContent=_useState4[0],setResponseFromContent=_useState4[1];// Message passing to content.js for any updates on active censorType\nvar sendCensorMessage=function sendCensorMessage(censorMessage){// Initializing message and conditions\nvar message={from:\"React\",message:censorMessage};var queryInfo={active:true,currentWindow:true};// Sending message to content.js\nchrome.tabs&&chrome.tabs.query(queryInfo,function(tabs){var currentTabId=tabs[0].id;chrome.tabs.sendMessage(currentTabId,message,function(response){setResponseFromContent(response);console.log('content.js response: '+response);});});};// Sending words from here to content.js so the file does not need to be in 'public'\nvar sendWordsData=function sendWordsData(data){var message={from:\"React\",message:data};var queryInfo={active:true,currentWindow:true};chrome.tabs&&chrome.tabs.query(queryInfo,function(tabs){var currentTabId=tabs[0].id;chrome.tabs.sendMessage(currentTabId,message,function(response){setResponseFromContent(response);});});};sendWordsData(wordsData);// chrome.storage.sync.get('storedCensorType', () => {\n//     chrome.storage.sync.set({\n//         storedCensorType: censorType,})\n//     console.log('SET STORED MESSAGE/CENSOR AS ' + censorType)\n// })\n// Updating states active in Main.js whenever a toggle is clicked\nfunction handleChange(event){var newCensorType=event.target.value===censorType?\"\":event.target.value;chrome.storage.sync.get('storedCensorType',function(){chrome.storage.sync.set({storedCensorType:newCensorType});console.log('-- set storage to button click: '+newCensorType);});chrome.storage.sync.get('storedCensorType',function(storage){setCensorType(storage.storedCensorType);});// if (newCensorType === \"\") {\n//     setCensorType(newCensorType)\n//     sendCensorMessage(newCensorType)\n// } else {\n//     sendCensorMessage(\"\")\n//     setCensorType(newCensorType)\n//     sendCensorMessage(newCensorType)\n// }\nconsole.log('Current active censorType: '+newCensorType);}// Initializing the toggle elements\nvar toggleElements=toggleData.map(function(toggle){return/*#__PURE__*/_jsx(ToggleButton,{id:toggle.id,censorType:censorType,handleChange:handleChange},toggle.keyID);});return/*#__PURE__*/_jsx(\"form\",{className:\"button-box\",children:toggleElements});}","map":{"version":3,"sources":["/Users/lawrencehan/Documents/GitHub/clean-chrome/src/components/Main.js"],"names":["React","useState","ToggleButton","toggleData","wordsData","Main","chrome","storage","sync","get","storedCensorType","censorType","setCensorType","responseFromContent","setResponseFromContent","sendCensorMessage","censorMessage","message","from","queryInfo","active","currentWindow","tabs","query","currentTabId","id","sendMessage","response","console","log","sendWordsData","data","handleChange","event","newCensorType","target","value","set","toggleElements","map","toggle","keyID"],"mappings":"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","sourcesContent":["/*global chrome*/\nimport React, { useState } from 'react'\nimport ToggleButton from './ToggleButton'\nimport toggleData from './toggles'\nimport wordsData from './wiktionaryWords'\n\n\nexport default function Main() {\n    // States are kept for active censorType and content.js responseFromContent\n    const [censorType, setCensorType] = useState(chrome.storage.sync.get('storedCensorType', \n        (storage) => {\n            return storage.storedCensorType\n        })\n    )\n    const [responseFromContent, setResponseFromContent] = useState(\"\")\n\n    // Message passing to content.js for any updates on active censorType\n    const sendCensorMessage = (censorMessage) => {\n        // Initializing message and conditions\n        const message = {\n            from: \"React\",\n            message: censorMessage,\n        }\n        const queryInfo = {\n            active: true,\n            currentWindow: true\n        }\n        // Sending message to content.js\n        chrome.tabs && chrome.tabs.query(queryInfo, tabs => {\n            const currentTabId = tabs[0].id\n            chrome.tabs.sendMessage(\n                currentTabId,\n                message,\n                (response) => {\n                    setResponseFromContent(response)\n                    console.log('content.js response: ' + response)\n                })\n        })\n    }\n\n    // Sending words from here to content.js so the file does not need to be in 'public'\n    const sendWordsData = (data) => {\n        const message = {\n            from: \"React\",\n            message: data,\n        }\n        const queryInfo = {\n            active: true,\n            currentWindow: true\n        }\n\n        chrome.tabs && chrome.tabs.query(queryInfo, tabs => {\n            const currentTabId = tabs[0].id\n            chrome.tabs.sendMessage(\n                currentTabId,\n                message,\n                (response) => {\n                    setResponseFromContent(response);\n                })\n        })\n    }\n    sendWordsData(wordsData)\n\n    // chrome.storage.sync.get('storedCensorType', () => {\n    //     chrome.storage.sync.set({\n    //         storedCensorType: censorType,})\n    //     console.log('SET STORED MESSAGE/CENSOR AS ' + censorType)\n    // })\n    \n    \n    // Updating states active in Main.js whenever a toggle is clicked\n    function handleChange(event) {\n        const newCensorType = event.target.value === censorType ? \"\" : event.target.value\n        chrome.storage.sync.get('storedCensorType', () => {\n            chrome.storage.sync.set({\n                storedCensorType: newCensorType,})\n            console.log('-- set storage to button click: ' + newCensorType)\n        })\n        \n        chrome.storage.sync.get('storedCensorType', (storage) => {\n            setCensorType(storage.storedCensorType)\n        })\n        // if (newCensorType === \"\") {\n        //     setCensorType(newCensorType)\n        //     sendCensorMessage(newCensorType)\n        // } else {\n        //     sendCensorMessage(\"\")\n        //     setCensorType(newCensorType)\n        //     sendCensorMessage(newCensorType)\n        // }\n        console.log('Current active censorType: ' + newCensorType)\n    }\n\n    // Initializing the toggle elements\n    const toggleElements = toggleData.map(toggle => {\n        return <ToggleButton\n            key={toggle.keyID}\n            id={toggle.id}\n            censorType={censorType}\n            handleChange={handleChange}\n        />\n    })\n\n    return (\n        <form className=\"button-box\">\n            {toggleElements}\n        </form>\n    )\n}"]},"metadata":{},"sourceType":"module"}