{"ast":null,"code":"var _jsxFileName = \"/Users/lawrencehan/Documents/GitHub/clean-chrome/src/components/Main.js\",\n    _s = $RefreshSig$();\n\n/*global chrome*/\nimport React, { useState } from 'react';\nimport ToggleButton from './ToggleButton';\nimport toggleData from './toggles';\nimport wordsData from './wiktionaryWords';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Main() {\n  _s();\n\n  // States are kept for active censorType and content.js responseFromContent\n  const [censorType, setCensorType] = useState(\"\");\n  const [responseFromContent, setResponseFromContent] = useState(\"\");\n  chrome.storage.sync.set({\n    censorType\n  }); // chrome.storage.onChanged.addListener((changes, area) => {\n  //     console.log(changes + area)\n  // })\n  // const censorTypeStorage = censorType\n  // Message passing to content.js for any updates on active censorType\n\n  const sendCensorMessage = censorMessage => {\n    // Initializing message and conditions\n    const message = {\n      from: \"React\",\n      message: censorMessage\n    };\n    const queryInfo = {\n      active: true,\n      currentWindow: true\n    }; // Sending message to content.js\n\n    chrome.tabs && chrome.tabs.query(queryInfo, tabs => {\n      const currentTabId = tabs[0].id;\n      chrome.tabs.sendMessage(currentTabId, message, response => {\n        setResponseFromContent(response);\n        console.log('content.js response: ' + response);\n      });\n    });\n  }; // Sending words from here to content.js so the file does not need to be in 'public'\n\n\n  const sendWordsData = data => {\n    const message = {\n      from: \"React\",\n      message: data\n    };\n    const queryInfo = {\n      active: true,\n      currentWindow: true\n    };\n    chrome.tabs && chrome.tabs.query(queryInfo, tabs => {\n      const currentTabId = tabs[0].id;\n      chrome.tabs.sendMessage(currentTabId, message, response => {\n        setResponseFromContent(response);\n      });\n    });\n  };\n\n  sendWordsData(wordsData); // Updating states active in Main.js whenever a toggle is clicked\n\n  function handleChange(event) {\n    const newCensorType = event.target.value === censorType ? \"\" : event.target.value; // setCensorType(prevCensorType => (\n    //     event.target.value === prevCensorType ? \"\" : event.target.value\n    // ))\n\n    if (newCensorType === \"\") {\n      setCensorType(newCensorType);\n      sendCensorMessage(newCensorType);\n    } else {\n      sendCensorMessage(\"\");\n      setCensorType(newCensorType);\n      sendCensorMessage(newCensorType);\n    }\n\n    console.log('Current active censorType: ' + newCensorType);\n  } // Initializing the toggle elements\n\n\n  const toggleElements = toggleData.map(toggle => {\n    return /*#__PURE__*/_jsxDEV(ToggleButton, {\n      id: toggle.id,\n      censorType: censorType,\n      handleChange: handleChange\n    }, toggle.keyID, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 16\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"button-box\",\n    children: toggleElements\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Main, \"eajpljwzqMahiQ6NS+8QRTHWFks=\");\n\n_c = Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Users/lawrencehan/Documents/GitHub/clean-chrome/src/components/Main.js"],"names":["React","useState","ToggleButton","toggleData","wordsData","Main","censorType","setCensorType","responseFromContent","setResponseFromContent","chrome","storage","sync","set","sendCensorMessage","censorMessage","message","from","queryInfo","active","currentWindow","tabs","query","currentTabId","id","sendMessage","response","console","log","sendWordsData","data","handleChange","event","newCensorType","target","value","toggleElements","map","toggle","keyID"],"mappings":"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","sourcesContent":["/*global chrome*/\nimport React, { useState } from 'react'\nimport ToggleButton from './ToggleButton'\nimport toggleData from './toggles'\nimport wordsData from './wiktionaryWords'\n\n\nexport default function Main() {\n    // States are kept for active censorType and content.js responseFromContent\n    const [censorType, setCensorType] = useState(\"\")\n    const [responseFromContent, setResponseFromContent] = useState(\"\")\n    chrome.storage.sync.set({censorType})\n    // chrome.storage.onChanged.addListener((changes, area) => {\n    //     console.log(changes + area)\n    // })\n    // const censorTypeStorage = censorType\n    // Message passing to content.js for any updates on active censorType\n    const sendCensorMessage = (censorMessage) => {\n        // Initializing message and conditions\n        const message = {\n            from: \"React\",\n            message: censorMessage,\n        }\n        const queryInfo = {\n            active: true,\n            currentWindow: true\n        }\n        // Sending message to content.js\n        chrome.tabs && chrome.tabs.query(queryInfo, tabs => {\n            const currentTabId = tabs[0].id\n            chrome.tabs.sendMessage(\n                currentTabId,\n                message,\n                (response) => {\n                    setResponseFromContent(response)\n                    console.log('content.js response: ' + response)\n                })\n        })\n    }\n\n    // Sending words from here to content.js so the file does not need to be in 'public'\n    const sendWordsData = (data) => {\n        const message = {\n            from: \"React\",\n            message: data,\n        }\n        const queryInfo = {\n            active: true,\n            currentWindow: true\n        }\n\n        chrome.tabs && chrome.tabs.query(queryInfo, tabs => {\n            const currentTabId = tabs[0].id\n            chrome.tabs.sendMessage(\n                currentTabId,\n                message,\n                (response) => {\n                    setResponseFromContent(response);\n                })\n        })\n    }\n    sendWordsData(wordsData)\n    \n    // Updating states active in Main.js whenever a toggle is clicked\n    function handleChange(event) {\n\n        const newCensorType = event.target.value === censorType ? \"\" : event.target.value\n        // setCensorType(prevCensorType => (\n        //     event.target.value === prevCensorType ? \"\" : event.target.value\n        // ))\n        if (newCensorType === \"\") {\n            setCensorType(newCensorType)\n            sendCensorMessage(newCensorType)\n        } else {\n            sendCensorMessage(\"\")\n            setCensorType(newCensorType)\n            sendCensorMessage(newCensorType)\n        }\n        console.log('Current active censorType: ' + newCensorType)\n    }\n\n    // Initializing the toggle elements\n    const toggleElements = toggleData.map(toggle => {\n        return <ToggleButton\n            key={toggle.keyID}\n            id={toggle.id}\n            censorType={censorType}\n            handleChange={handleChange}\n        />\n    })\n\n    return (\n        <form className=\"button-box\">\n            {toggleElements}\n        </form>\n    )\n}"]},"metadata":{},"sourceType":"module"}